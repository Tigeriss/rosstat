[{"/home/ilya/Projects/rosstat/ui/src/index.tsx":"1","/home/ilya/Projects/rosstat/ui/src/app/page/orders.tsx":"2","/home/ilya/Projects/rosstat/ui/src/app/page/ordersSmall.tsx":"3","/home/ilya/Projects/rosstat/ui/src/app/page/ordersPallet.tsx":"4","/home/ilya/Projects/rosstat/ui/src/app/page/logout.tsx":"5","/home/ilya/Projects/rosstat/ui/src/app/component/layout.tsx":"6","/home/ilya/Projects/rosstat/ui/src/store/session.ts":"7","/home/ilya/Projects/rosstat/ui/src/app/page/shipment.tsx":"8","/home/ilya/Projects/rosstat/ui/src/app/page/login.tsx":"9","/home/ilya/Projects/rosstat/ui/src/app/page/ordersBig.tsx":"10","/home/ilya/Projects/rosstat/ui/src/app/page/shipmentPallet.tsx":"11","/home/ilya/Projects/rosstat/ui/src/app/component/appHeader.tsx":"12","/home/ilya/Projects/rosstat/ui/src/app/page/admin.tsx":"13","/home/ilya/Projects/rosstat/ui/src/app/app.tsx":"14","/home/ilya/Projects/rosstat/ui/src/api/request.ts":"15","/home/ilya/Projects/rosstat/ui/src/api/shipment.ts":"16","/home/ilya/Projects/rosstat/ui/src/app/page/palletPrint.tsx":"17","/home/ilya/Projects/rosstat/ui/src/api/auth.ts":"18","/home/ilya/Projects/rosstat/ui/src/api/orders.ts":"19"},{"size":399,"mtime":1607151995031,"results":"20","hashOfConfig":"21"},{"size":2989,"mtime":1607142642289,"results":"22","hashOfConfig":"21"},{"size":4454,"mtime":1607138893458,"results":"23","hashOfConfig":"21"},{"size":5013,"mtime":1607154710127,"results":"24","hashOfConfig":"21"},{"size":250,"mtime":1607068604891,"results":"25","hashOfConfig":"21"},{"size":807,"mtime":1607146685114,"results":"26","hashOfConfig":"21"},{"size":7389,"mtime":1607151066968,"results":"27","hashOfConfig":"21"},{"size":2182,"mtime":1607142739422,"results":"28","hashOfConfig":"21"},{"size":1599,"mtime":1607070045883,"results":"29","hashOfConfig":"21"},{"size":3223,"mtime":1607146240779,"results":"30","hashOfConfig":"21"},{"size":6307,"mtime":1607147859073,"results":"31","hashOfConfig":"21"},{"size":994,"mtime":1607068566931,"results":"32","hashOfConfig":"21"},{"size":1357,"mtime":1607070109829,"results":"33","hashOfConfig":"21"},{"size":2658,"mtime":1607148819693,"results":"34","hashOfConfig":"21"},{"size":923,"mtime":1607125282588,"results":"35","hashOfConfig":"21"},{"size":911,"mtime":1607147723137,"results":"36","hashOfConfig":"21"},{"size":2479,"mtime":1607154561581,"results":"37","hashOfConfig":"21"},{"size":336,"mtime":1607072347938,"results":"38","hashOfConfig":"21"},{"size":2861,"mtime":1607150546890,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1tyb3jq",{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"50"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/ilya/Projects/rosstat/ui/src/index.tsx",[],["86","87"],"/home/ilya/Projects/rosstat/ui/src/app/page/orders.tsx",["88"],"import {Observer} from \"mobx-react\";\nimport React, {useEffect} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {useSession} from \"../app\";\nimport {Layout} from \"../component/layout\";\nimport {Header, Table} from \"semantic-ui-react\";\nimport {OrdersModel, SubOrderModel} from \"../../api/orders\";\nimport {Session} from \"../../store/session\";\n\nfunction renderRow(history: ReturnType<typeof useHistory>, session: Session, order: OrdersModel) {\n    const rows = [<Table.Row warning onClick={() => session.openedOrders[order.id] = !session.openedOrders[order.id]} key={order.id}>\n        <Table.Cell width=\"1\">{order.num}</Table.Cell>\n        <Table.Cell width=\"3\">{order.order_caption}</Table.Cell>\n        <Table.Cell width=\"2\">{order.customer}</Table.Cell>\n        <Table.Cell width=\"3\">{order.address}</Table.Cell>\n        <Table.Cell width=\"1\">{order.run}</Table.Cell>\n        <Table.Cell width=\"1\">{order.amount_pallets}</Table.Cell>\n        <Table.Cell width=\"1\">{order.amount_boxes}</Table.Cell>\n    </Table.Row>];\n\n    const next = (sub: SubOrderModel) => {\n        if (sub.is_small) {\n            history.push(`/orders/small/${order.id}`);\n        } else {\n            history.push(`/orders/big/${order.id}`);\n        }\n    }\n\n    if (session.openedOrders[order.id]) {\n        let n = 0;\n        for (const sub of order.sub_orders) {\n            rows.push(\n                <Table.Row key={`${order.id}-${n}`} onClick={() => next(sub)}>\n                    <Table.Cell />\n                    <Table.Cell>{sub.order_caption}</Table.Cell>\n                    <Table.Cell />\n                    <Table.Cell />\n                    <Table.Cell />\n                    <Table.Cell>{sub.amount_pallets}</Table.Cell>\n                    <Table.Cell>{sub.amount_boxes}</Table.Cell>\n                </Table.Row>\n            );\n            n++;\n        }\n    }\n    return rows;\n}\n\nexport function OrdersPage() {\n    const session = useSession();\n    const history = useHistory();\n\n    return <Observer>{() =>\n        <Layout>\n            <Header>Комплектование</Header>\n\n            <Table celled selectable singleLine>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>№</Table.HeaderCell>\n                        <Table.HeaderCell>Заказ</Table.HeaderCell>\n                        <Table.HeaderCell>Заказчик</Table.HeaderCell>\n                        <Table.HeaderCell>Адрес</Table.HeaderCell>\n                        <Table.HeaderCell>Тираж</Table.HeaderCell>\n                        <Table.HeaderCell>Паллет</Table.HeaderCell>\n                        <Table.HeaderCell>Коробок</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                    {session.ordersToBuild?.map?.(renderRow.bind(null, history, session))}\n                </Table.Body>\n            </Table>\n\n        </Layout>\n    }</Observer>;\n}\n",["89","90"],"/home/ilya/Projects/rosstat/ui/src/app/page/ordersSmall.tsx",["91"],"import React, {useEffect} from \"react\";\nimport {Observer} from \"mobx-react\";\nimport {Layout} from \"../component/layout\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport {useSession} from \"../app\";\nimport {BigOrdersModel, OrdersModel} from \"../../api/orders\";\nimport {Button, Checkbox, Divider, Form, Grid, Header, Icon, Input, List, Message, Table} from \"semantic-ui-react\";\nimport {Session} from \"../../store/session\";\n\nfunction renderForm(session: Session, form: BigOrdersModel, i: number) {\n    return <Table.Row key={`${form.form_name}-${form.total}-${form.built}`}>\n        <Table.Cell width=\"1\">{i}</Table.Cell>\n        <Table.Cell width=\"13\">{form.form_name}</Table.Cell>\n        <Table.Cell width=\"1\">{form.total - form.built}</Table.Cell>\n        <Table.Cell width=\"1\">\n            <Checkbox onChange={ev => {session.completedBoxes[i] = !session.completedBoxes[i]}} checked={session.completedBoxes[i] ?? false}/>\n        </Table.Cell>\n    </Table.Row>;\n}\n\nfunction renderOrder(order: OrdersModel | null, forms: BigOrdersModel[], history: ReturnType<typeof useHistory>, session: Session) {\n    if (order == null) {\n        return <Message warning>\n            Заказ не найден\n        </Message>;\n    }\n\n    const addBox = (ev: React.KeyboardEvent<HTMLInputElement>) => {\n        const el = ev.currentTarget as HTMLInputElement;\n        if (ev.key === \"Enter\" && el.value.trim() !== \"\") {\n            if (session.preparedBoxes.some(v => v === el.value.trim())) {\n                el.value = \"\";\n                return;\n            }\n            session.preparedBoxes.push(el.value.trim());\n            el.value = \"\";\n        }\n    }\n\n    const sendOrder = async () => {\n        await session.finishOrders();\n        history.push(\"/orders\");\n    };\n\n    return <Grid>\n        <Grid.Row>\n            <Grid.Column width={6}>\n                <Header sub>Сборные короба для заказа:</Header> {order.order_caption}\n                <br />\n                <br />\n                <br />\n                <Form>\n                    <Form.Field>\n                        <label>Соберите коробку и отсканируйте штрих-код:</label>\n                        <Input placeholder='202700030' onKeyPress={addBox} />\n                    </Form.Field>\n                </Form>\n                <Header sub>Собрано коробов:</Header>\n                <List>\n                    {session.preparedBoxes.map(i => <List.Item key={i}>{i}</List.Item>)}\n                </List>\n                <Divider />\n                <List>\n                    <List.Item>Итого: {session.preparedBoxes.length}</List.Item>\n                </List>\n            </Grid.Column>\n            <Grid.Column width={10}>\n                <Header sub>Требуется собрать:</Header>\n                <Table celled compact>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell />\n                            <Table.HeaderCell>Товар</Table.HeaderCell>\n                            <Table.HeaderCell>К&nbsp;сбору</Table.HeaderCell>\n                            <Table.HeaderCell>Собрано</Table.HeaderCell>\n                        </Table.Row>\n                    </Table.Header>\n\n                    <Table.Body>\n                        {forms.map(renderForm.bind(null, session))}\n                    </Table.Body>\n                </Table>\n\n                {forms.some((f, i) => session.completedBoxes[i] !== true)\n                    ? <Button disabled negative>Не все короба укомплектованы</Button>\n                    : <Button positive onClick={sendOrder}>Сборные короба полностью укомплектованы</Button>\n                }\n            </Grid.Column>\n        </Grid.Row>\n\n    </Grid>;\n}\n\nexport function OrdersSmallPage() {\n    const {id} = useParams<{id: string}>();\n    const session = useSession();\n    const history = useHistory();\n\n    useEffect(() => {\n        session.preparedBoxes = [];\n        session.completedBoxes = {};\n        session.currentOrderId = parseInt(id);\n        session.fetchSmallOrdersToBuild().catch(console.error);\n    }, [session, id])\n\n    return <Observer>{() =>\n        <Layout>\n            {renderOrder(session.findOrder(parseInt(id)), session.currentSmallOrder, history, session)}\n        </Layout>\n    }</Observer>;\n}\n",["92","93"],"/home/ilya/Projects/rosstat/ui/src/app/page/ordersPallet.tsx",["94"],"/home/ilya/Projects/rosstat/ui/src/app/page/logout.tsx",[],["95","96"],"/home/ilya/Projects/rosstat/ui/src/app/component/layout.tsx",["97"],"/home/ilya/Projects/rosstat/ui/src/store/session.ts",["98"],"/home/ilya/Projects/rosstat/ui/src/app/page/shipment.tsx",["99","100"],"import React from \"react\";\nimport {Observer} from \"mobx-react\";\nimport {Layout} from \"../component/layout\";\nimport {Header, Table} from \"semantic-ui-react\";\nimport {useSession} from \"../app\";\nimport {useHistory} from \"react-router-dom\";\nimport {Session} from \"../../store/session\";\nimport {OrdersModel, SubOrderModel} from \"../../api/orders\";\nimport {ShipmentModel} from \"../../api/shipment\";\n\n\nfunction renderRow(history: ReturnType<typeof useHistory>, session: Session, order: ShipmentModel) {\n    const next = () => {\n        history.push(`/shipment/pallet/${order.id}`);\n    }\n\n    return <Table.Row warning onClick={next} key={order.id}>\n        <Table.Cell width=\"1\">{order.num}</Table.Cell>\n        <Table.Cell width=\"3\">{order.order_caption}</Table.Cell>\n        <Table.Cell width=\"2\">{order.customer}</Table.Cell>\n        <Table.Cell width=\"3\">{order.address}</Table.Cell>\n        <Table.Cell width=\"1\">{order.run}</Table.Cell>\n        <Table.Cell width=\"1\">{order.amount_pallets}</Table.Cell>\n        <Table.Cell width=\"1\">{order.amount_boxes}</Table.Cell>\n    </Table.Row>;\n}\n\nexport function ShipmentPage() {\n    const session = useSession();\n    const history = useHistory();\n\n    return <Observer>{() =>\n        <Layout>\n            <Header>Отгрузка</Header>\n\n            <Table celled selectable singleLine>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>№</Table.HeaderCell>\n                        <Table.HeaderCell>Заказ</Table.HeaderCell>\n                        <Table.HeaderCell>Заказчик</Table.HeaderCell>\n                        <Table.HeaderCell>Адрес</Table.HeaderCell>\n                        <Table.HeaderCell>Тираж</Table.HeaderCell>\n                        <Table.HeaderCell>Паллет</Table.HeaderCell>\n                        <Table.HeaderCell>Коробок</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                    {session.currentShipments?.map?.(renderRow.bind(null, history, session))}\n                </Table.Body>\n            </Table>\n\n        </Layout>\n    }</Observer>;\n}\n","/home/ilya/Projects/rosstat/ui/src/app/page/login.tsx",[],"/home/ilya/Projects/rosstat/ui/src/app/page/ordersBig.tsx",[],["101","102"],"/home/ilya/Projects/rosstat/ui/src/app/page/shipmentPallet.tsx",[],"/home/ilya/Projects/rosstat/ui/src/app/component/appHeader.tsx",[],"/home/ilya/Projects/rosstat/ui/src/app/page/admin.tsx",[],"/home/ilya/Projects/rosstat/ui/src/app/app.tsx",[],"/home/ilya/Projects/rosstat/ui/src/api/request.ts",[],"/home/ilya/Projects/rosstat/ui/src/api/shipment.ts",[],"/home/ilya/Projects/rosstat/ui/src/app/page/palletPrint.tsx",[],"/home/ilya/Projects/rosstat/ui/src/api/auth.ts",[],"/home/ilya/Projects/rosstat/ui/src/api/orders.ts",[],{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":2,"column":16,"nodeType":"109","messageId":"110","endLine":2,"endColumn":25},{"ruleId":"103","replacedBy":"111"},{"ruleId":"105","replacedBy":"112"},{"ruleId":"107","severity":1,"message":"113","line":7,"column":56,"nodeType":"109","messageId":"110","endLine":7,"endColumn":60},{"ruleId":"103","replacedBy":"114"},{"ruleId":"105","replacedBy":"115"},{"ruleId":"107","severity":1,"message":"116","line":7,"column":17,"nodeType":"109","messageId":"110","endLine":7,"endColumn":24},{"ruleId":"103","replacedBy":"117"},{"ruleId":"105","replacedBy":"118"},{"ruleId":"107","severity":1,"message":"116","line":3,"column":20,"nodeType":"109","messageId":"110","endLine":3,"endColumn":27},{"ruleId":"107","severity":1,"message":"119","line":1,"column":29,"nodeType":"109","messageId":"110","endLine":1,"endColumn":40},{"ruleId":"107","severity":1,"message":"120","line":8,"column":9,"nodeType":"109","messageId":"110","endLine":8,"endColumn":20},{"ruleId":"107","severity":1,"message":"121","line":8,"column":22,"nodeType":"109","messageId":"110","endLine":8,"endColumn":35},{"ruleId":"103","replacedBy":"122"},{"ruleId":"105","replacedBy":"123"},"no-native-reassign",["124"],"no-negated-in-lhs",["125"],"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar",["124"],["125"],"'Icon' is defined but never used.",["124"],["125"],"'Divider' is defined but never used.",["124"],["125"],"'runInAction' is defined but never used.","'OrdersModel' is defined but never used.","'SubOrderModel' is defined but never used.",["124"],["125"],"no-global-assign","no-unsafe-negation"]